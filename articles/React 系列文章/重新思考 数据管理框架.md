###  重新思考数据管理框架.

> 背景(background):
       
1、这门语言的定位是什么? 诞生的背景?
           
  React 只是Dom 的一个抽象层,并不是web 应用的完整解决方案。有两个方面，它没涉及 代码结构,组件之间的通信.

  对于大型的复杂应用来说，这两方面恰恰是最关键的。因此，只用 React 没法写大型应用.

  为了解决这个问题，2014年 Facebook 提出了 Flux 架构的概念，引发了很多的实现。2015年，Redux 出现，将 Flux 与函数式编程结合一起，很短时间内就成为了最热门的前端架构.

  上面这些情况，都不需要使用 Redux:

    用户的使用方式非常简单
    用户之间没有协作
    不需要与服务器大量交互，也没有使用 WebSocket
    视图层（View）只从单一来源获取数据

  上面这些情况，都不需要使用 Redux。

    用户的使用方式复杂.
    不同身份的用户有不同的使用方式（比如普通用户和管理员).
    多个用户之间可以协作.
    与服务器大量交互，或者使用了WebSocket.
    View要从多个来源获取数据.

  从组件角度看，如果你的应用有以下场景，可以考虑使用 Redux:

    某个组件的状态，需要共享.
    某个状态需要在任何地方都可以拿到.
    一个组件需要改变全局状态.
    一个组件需要改变另一个组件的状态.

  发生上面情况时，如果不使用 Redux 或者其他状态管理工具，不按照一定规律处理状态的读写，代码很快就会变成一团乱麻。你需要一种机制，可以在同一个地方查询状态、改变状态、传播状态的变化
  
2、设计思想(thought)

Redux 的设计思想很简单:

    (1）Web 应用是一个状态机，视图与状态是一一对应的.

    (2) 所有的状态，保存在一个对象里面.

    三大原则:
      1、单一数据源.
      2、State是只读的.
      3、使用纯函数来执行修改.

    思考题:

      1、为什么state 要是只读的?
      2、flux 的设计方案?




3、原理(principle)

    工作流程:

![image](http://www.ruanyifeng.com/blogimg/asset/2016/bg2016091802.jpg)

    描述一下: 
      * 组件的状态发生改变，会触发store.dispatch 分发 action,reducers 接收到action 会返回newState,最终会把这个newState 返回给React.Component.

    形象描述:
      * 借书的人=> dispatch => store=> reducers。

    redux 源码阅读:
      * 

    redux thunk 源码阅读:
      * 

    思考题目:

    中间件:
      1、
      2、https://www.redux.org.cn/docs/introduction/Ecosystem.html.

      * 为什么Reudx只要它支持数据的不可变动性?
    
  
4、场景(scenario):

	1、有哪些常用的api.

    1、 Action.

      * 是 store 数据的唯一来源

    2、 Reducer。

      * 设计 State 结构。

        * 在 Redux 应用中，所有的 state 都被保存在一个单一对象中。建议在写代码前先想一下这个对象的结构。如何才能以最简的形式把应用的 state 用对象描述出来。
        * https://www.redux.org.cn/docs/basics/Reducers.html

      * combineReducers.

   3、 Store.

      *  action 来描述“发生了什么”,和使用 reducers 来根据 action 更新 state 的用法.

      * Store 有以下职责:
        * 维持应用的 state.
        * 提供 getState() 方法获取 state.
        * 提供 dispatch(action) 方法更新 state.
        * 通过 subscribe(listener) 注册监听器.
        * 通过 subscribe(listener) 返回的函数注销监听器.

  高级Api：

    1、设计 state 结构。

    2、异步 Action.

      中间件:

        redux thunk.

        redux saga.

        异步数据流.

    3、MiddleWare 

      iddleware 最优秀的特性就是可以被链式组合。你可以在一个项目中使用多个独立的第三方 middleware.

      实现原理:

        它提供的是位于 action 被发起之后，到达 reducer 之前的扩展点.

        redux saga;

    4、搭配 react-router.
        Provider.

    5、Reselect.

    6、

  思考题:
    1、建议你尽可能地把 state 范式化，不存在嵌套（如何做?）
    2、为什么不要修改 state？
    3、什么是 结合 normalizr 来把嵌套的 API 响应数据范式化？


  2、选出里面最重要的按照权重排序.
      1、

	3、多是怎么用的,至少举出5个例子.

5、对比(contrast): 
	1、同类语言的横向对比(可维护性、可读性、优雅程度、生态、背后的模式)

  2、Flux, Elm ,Mobx 架构.

6、进化(evolution):	
	第一步: 分析
		- 方向
		   更好: 限制.
                 更广: 场景.
		   更深: 细节.
              - 角度
		   性能

		   扩展
                 鲁邦
        第二步: 回溯和进化.
        
原 则: spcebd.

*  Dan 的课程:
    * https://egghead.io/courses/getting-started-with-redux?source=post_page---------------------------
    * https://egghead.io/courses/building-react-applications-with-idiomatic-redux?source=post_page---------------------------

* 参考文献:
    * https://medium.com/javascript-scene/10-tips-for-better-redux-architecture-69250425af44.
    * https://redux.js.org/introduction/getting-started
    * https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367  
    * Tdd https://mp.weixin.qq.com/s/1kl8SV28GDt_40FF_6CuhA.
    * https://github.com/Vincedream/ddd-fe-demo
    * https://mp.weixin.qq.com/s/rr8LI8pFaZ-AB2y4cKKGLw 面试如何回答项目问题.
    * https://www.udemy.com/
    * http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_one_basic_usages.html
    * https://github.com/markerikson/react-redux-links
    * https://github.com/redux-saga/redux-saga
